<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Callbacks y Asincronía</title>
  <style>
    .output-box {
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

<!-- Instrucciones -->
<div>
  <h2>Instrucciones:</h2>
  <ol>
    <li>Debería aparecer cuando se carga la ventana.</li>
    <li>B debería aparecer inmediatamente después de A.</li>
    <li>C debería aparecer 5 segundos después de A.</li>
    <li>D debería aparecer aleatoriamente entre 2 y 5 segundos después de cargar la ventana.</li>
    <li>E debería aparecer 2 segundos después de D.</li>
    <li>F debería aparecer 7 segundos después de B.</li>
    <li>G debería aparecer 2 segundos después de E.</li>
    <li>H debería aparecer 3 segundos después de G.</li>
  </ol>
</div>

<!-- Salida -->
<div>
  <h2>Salida:</h2>
  <div id="output" class="output-box"></div>
</div>

<script>
  function mostrarMensaje(mensaje) {
    const output = document.getElementById('output');
    const currentTime = obtenerHoraActual();
    output.innerHTML += `${mensaje} apareció en ${currentTime}<br>`;
  }

  function obtenerHoraActual() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const seconds = now.getSeconds().toString().padStart(2, '0');
    return `${hours}:${minutes}:${seconds}`;
  }

  // Instrucción A
  mostrarMensaje('A [Enviado de: 1]');

  // Instrucción B
  setTimeout(() => {
    mostrarMensaje('B [Enviado de: 2]');
  }, 0);

  // Instrucción C
  setTimeout(() => {
    mostrarMensaje('C [Enviado de: 4]');
  }, 5000);

  // Instrucción D (aleatorio entre 2 y 5 segundos)
  const tiempoAleatorio = Math.floor(Math.random() * (5000 - 2000 + 1)) + 2000;
  setTimeout(() => {
    mostrarMensaje(`D [Enviado de: 5]`);
  }, tiempoAleatorio);

  // Instrucción E
  setTimeout(() => {
    mostrarMensaje('E [Enviado de: 6]');
  }, tiempoAleatorio + 2000);

  // Instrucción F
  setTimeout(() => {
    mostrarMensaje('F [Enviado de: 7]');
  }, 7000);

  // Instrucción G
  setTimeout(() => {
    mostrarMensaje('G [Enviado de: 8]');
  }, tiempoAleatorio + 2000 + 2000);

  // Instrucción H
  setTimeout(() => {
    mostrarMensaje('H [Enviado de: 9]');
  }, tiempoAleatorio + 2000 + 2000 + 3000);
</script>

</body>
</html>